# 6. Epic 1: Foundation & Core Check-in

## Epic Goal

프로젝트 인프라를 구축하고, 사용자 인증과 원터치 O/X 체크인 기능을 구현하여 **Drinky의 핵심 가치를 전달하는 최소 기능 제품**을 완성합니다. 이 에픽 완료 시 사용자는 회원가입 후 매일 음주 여부를 기록하고, 연속 금주 스트릭을 확인할 수 있습니다.

> **Note:** 개발 단계에서는 로컬 환경(localhost)에서만 동작합니다. 배포 파이프라인은 개발 완료 후 별도 진행합니다.

## Story 1.1: 프로젝트 기반 구축 및 로컬 개발 환경 설정

**As a** 개발자,
**I want** 프로젝트 기반 구조와 로컬 개발 환경을 구축하여,
**so that** 이후 모든 기능을 로컬에서 안정적으로 개발하고 테스트할 수 있다.

**Acceptance Criteria:**
1. Spring Boot + Kotlin + Gradle 프로젝트 초기화
2. Thymeleaf + HTMX + Alpine.js 프론트엔드 설정 완료
3. TailwindCSS 설정 완료 (frontend 빌드 스크립트 포함)
4. PostgreSQL 로컬 데이터베이스 생성 및 연결 확인
5. 헬스체크 페이지("/health") 로컬 접속 확인 (localhost:8080)
6. dev 프로파일 기반 로컬 실행 환경 정상 동작 확인

## Story 1.2: 사용자 인증 백엔드 구성

**As a** 사용자,
**I want** 이메일 또는 소셜 계정으로 가입/로그인할 수 있어서,
**so that** 내 음주 기록을 안전하게 저장하고 관리할 수 있다.

**Acceptance Criteria:**
1. Supabase Auth에 이메일/비밀번호 인증 활성화
2. Google OAuth 로그인 설정 완료
3. Kakao OAuth 로그인 설정 완료
4. users 테이블 스키마 생성 (id, email, nickname, created_at)
5. 신규 가입 시 users 테이블에 자동 레코드 생성 (트리거)
6. RLS(Row Level Security) 정책 설정 - 본인 데이터만 접근

## Story 1.3: 인증 UI 및 온보딩 화면

**As a** 신규 사용자,
**I want** 간단하고 친근한 온보딩 화면을 통해 가입할 수 있어서,
**so that** 앱 사용을 빠르게 시작할 수 있다.

**Acceptance Criteria:**
1. 온보딩 화면 - 앱 소개 (1-2 슬라이드)
2. 로그인/회원가입 선택 화면
3. 이메일 회원가입 폼 (이메일, 비밀번호, 닉네임)
4. 이메일 로그인 폼
5. 소셜 로그인 버튼 (Google, Kakao)
6. 로그인 성공 시 메인 대시보드로 이동
7. 비로그인 사용자 접근 시 온보딩으로 리다이렉트
8. 모바일 반응형 UI (375px 기준)

## Story 1.4: 메인 대시보드 레이아웃

**As a** 로그인한 사용자,
**I want** 앱 진입 시 오늘의 상태를 한눈에 볼 수 있는 대시보드를 보고 싶어서,
**so that** 빠르게 오늘의 체크인을 할 수 있다.

**Acceptance Criteria:**
1. 대시보드 페이지 레이아웃 구현
2. 상단에 인사 메시지 표시 ("안녕하세요, {닉네임}님!")
3. 중앙에 오늘의 체크인 영역 (플레이스홀더)
4. 하단에 스트릭 표시 영역 (플레이스홀더)
5. 하단 네비게이션 바 (홈, 기록, 설정 - 기록/설정은 비활성)
6. 로그아웃 기능 (설정 또는 임시 버튼)
7. 모바일 반응형 UI

## Story 1.5: O/X 체크인 기능

**As a** 사용자,
**I want** 오늘 술을 마셨는지 O/X 버튼 하나로 기록할 수 있어서,
**so that** 매일 1초 만에 간편하게 음주 여부를 기록할 수 있다.

**Acceptance Criteria:**
1. 대시보드에 O(마심) / X(안마심) 버튼 표시
2. drinking_records 테이블 생성 (id, user_id, date, did_drink, created_at)
3. 버튼 클릭 시 오늘 날짜로 기록 저장 API 호출
4. 저장 성공 시 시각적 피드백 (애니메이션, 격려 메시지)
5. 오늘 이미 기록한 경우 현재 상태 표시 및 수정 가능
6. 체크인 인터랙션 100ms 이내 반응
7. RLS 정책 - 본인 기록만 조회/수정

## Story 1.6: 연속 금주 스트릭 표시

**As a** 사용자,
**I want** 연속으로 술을 마시지 않은 날을 스트릭으로 확인할 수 있어서,
**so that** 절주 동기부여를 받고 기록을 이어갈 수 있다.

**Acceptance Criteria:**
1. 스트릭 계산 로직 구현 (연속 X 기록 일수)
2. 대시보드에 현재 스트릭 숫자 표시 ("🔥 7일 연속!")
3. 스트릭에 따른 격려 메시지 표시
   - 0일: "오늘부터 시작해볼까요?"
   - 1-6일: "좋은 시작이에요! 계속 가봐요!"
   - 7일+: "대단해요! 일주일 넘게 성공했어요!"
4. 스트릭이 깨졌을 때 부드러운 메시지 ("괜찮아요, 다시 시작하면 돼요!")
5. 최장 스트릭 기록 저장 및 표시
6. 주간 미니 캘린더 미리보기 (최근 7일 O/X 표시)

---
